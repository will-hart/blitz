<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>blitz.web.api &mdash; Blitz Logger Internal Documentation 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Blitz Logger Internal Documentation 0.1 documentation" href="index.html" />
    <link rel="up" title="blitz.web" href="blitz_web.html" />
    <link rel="next" title="blitz.web.http" href="blitz_web_http.html" />
    <link rel="prev" title="blitz.web" href="blitz_web.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="_static/solarized-dark.css" rel="stylesheet">
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="blitz_web_http.html" title="blitz.web.http"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="blitz_web.html" title="blitz.web"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Blitz Logger Internal Documentation 0.1 documentation</a> &raquo;</li>
          <li><a href="blitz_web.html" accesskey="U">blitz.web</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">blitz.web.api</a><ul>
<li><a class="reference internal" href="#module-blitz.web.api">api</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="blitz_web.html"
                        title="previous chapter">blitz.web</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="blitz_web_http.html"
                        title="next chapter">blitz.web.http</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/blitz_web_api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="blitz-web-api">
<h1>blitz.web.api<a class="headerlink" href="#blitz-web-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-blitz.web.api">
<span id="api"></span><h2>api<a class="headerlink" href="#module-blitz.web.api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="blitz.web.api.ApiRequestHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">ApiRequestHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.ApiRequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A base API request handler class</p>
<dl class="method">
<dt id="blitz.web.api.ApiRequestHandler.generate_status_response">
<tt class="descname">generate_status_response</tt><big>(</big><big>)</big><a class="headerlink" href="#blitz.web.api.ApiRequestHandler.generate_status_response" title="Permalink to this definition">¶</a></dt>
<dd><p>generates a status response</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="blitz.web.api.CacheHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">CacheHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.CacheHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>handles a GET request to /cache by writing a
JSON list of the last 50 values for each variable.</p>
<p>If an argument is provided for &#8220;since&#8221; then only
return values since that date. Otherwise return last 50</p>
</dd></dl>

<dl class="class">
<dt id="blitz.web.api.CategoriesHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">CategoriesHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.CategoriesHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>handles a GET request to /categories by writing a
JSON list of categories currently in the cache</p>
</dd></dl>

<dl class="class">
<dt id="blitz.web.api.ConfigHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">ConfigHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.ConfigHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>An API handler which allows setting and retrieving of config settings</p>
<dl class="method">
<dt id="blitz.web.api.ConfigHandler.get">
<tt class="descname">get</tt><big>(</big><big>)</big><a class="headerlink" href="#blitz.web.api.ConfigHandler.get" title="Permalink to this definition">¶</a></dt>
<dd><p>handles a GET request to /config and returns
a complete list of data relating to this session</p>
</dd></dl>

<dl class="method">
<dt id="blitz.web.api.ConfigHandler.post">
<tt class="descname">post</tt><big>(</big><big>)</big><a class="headerlink" href="#blitz.web.api.ConfigHandler.post" title="Permalink to this definition">¶</a></dt>
<dd><p>handles a POST request to /config and saves
updated configuration information to the data logger</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="blitz.web.api.DownloadHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">DownloadHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.DownloadHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>handles a GET request to /download/{id} by requesting a download
from the data logger for the given session ID and then returning a
complete list of variable and values that were recorded during this
logging session.</p>
</dd></dl>

<dl class="class">
<dt id="blitz.web.api.ErrorHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">ErrorHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.ErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles error messages</p>
</dd></dl>

<dl class="class">
<dt id="blitz.web.api.SessionHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">SessionHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.SessionHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>handles a GET request to /session/{id} and returns
a complete list of data relating to this session</p>
</dd></dl>

<dl class="class">
<dt id="blitz.web.api.SessionsHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">SessionsHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.SessionsHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>handles a GET request to /sessions and returns a complete
list of logging sessions that are available for view or download</p>
</dd></dl>

<dl class="class">
<dt id="blitz.web.api.StatusHandler">
<em class="property">class </em><tt class="descclassname">blitz.web.api.</tt><tt class="descname">StatusHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#blitz.web.api.StatusHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current system status</p>
</dd></dl>

<dl class="function">
<dt id="blitz.web.api.relationship">
<tt class="descclassname">blitz.web.api.</tt><tt class="descname">relationship</tt><big>(</big><em>argument</em>, <em>secondary=None</em>, <em>primaryjoin=None</em>, <em>secondaryjoin=None</em>, <em>foreign_keys=None</em>, <em>uselist=None</em>, <em>order_by=False</em>, <em>backref=None</em>, <em>back_populates=None</em>, <em>post_update=False</em>, <em>cascade=False</em>, <em>extension=None</em>, <em>viewonly=False</em>, <em>lazy=True</em>, <em>collection_class=None</em>, <em>passive_deletes=False</em>, <em>passive_updates=True</em>, <em>remote_side=None</em>, <em>enable_typechecks=True</em>, <em>join_depth=None</em>, <em>comparator_factory=None</em>, <em>single_parent=False</em>, <em>innerjoin=False</em>, <em>distinct_target_key=None</em>, <em>doc=None</em>, <em>active_history=False</em>, <em>cascade_backrefs=True</em>, <em>load_on_pending=False</em>, <em>strategy_class=None</em>, <em>_local_remote_pairs=None</em>, <em>query_class=None</em>, <em>info=None</em><big>)</big><a class="headerlink" href="#blitz.web.api.relationship" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a relationship between two mapped classes.</p>
<p>This corresponds to a parent-child or associative table relationship.  The
constructed class is an instance of <tt class="xref py py-class docutils literal"><span class="pre">RelationshipProperty</span></tt>.</p>
<p>A typical <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>, used in a classical mapping:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mapper</span><span class="p">(</span><span class="n">Parent</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="p">{</span>
  <span class="s">&#39;children&#39;</span><span class="p">:</span> <span class="n">relationship</span><span class="p">(</span><span class="n">Child</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Some arguments accepted by <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> optionally accept a
callable function, which when called produces the desired value.
The callable is invoked by the parent <tt class="xref py py-class docutils literal"><span class="pre">Mapper</span></tt> at &#8220;mapper
initialization&#8221; time, which happens only when mappers are first used, and
is assumed to be after all mappings have been constructed.  This can be
used to resolve order-of-declaration and other dependency issues, such as
if <tt class="docutils literal"><span class="pre">Child</span></tt> is declared below <tt class="docutils literal"><span class="pre">Parent</span></tt> in the same file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mapper</span><span class="p">(</span><span class="n">Parent</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&quot;children&quot;</span><span class="p">:</span><span class="n">relationship</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">Child</span><span class="p">,</span>
                        <span class="n">order_by</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">Child</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<p>When using the <em class="xref std std-ref">declarative_toplevel</em> extension, the Declarative
initializer allows string arguments to be passed to <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>.
These string arguments are converted into callables that evaluate
the string as Python code, using the Declarative
class-registry as a namespace.  This allows the lookup of related
classes to be automatic via their string name, and removes the need to
import related classes at all into the local module space:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sqlalchemy.ext.declarative</span> <span class="kn">import</span> <span class="n">declarative_base</span>

<span class="n">Base</span> <span class="o">=</span> <span class="n">declarative_base</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">Parent</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s">&#39;parent&#39;</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">children</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s">&quot;Child&quot;</span><span class="p">,</span> <span class="n">order_by</span><span class="o">=</span><span class="s">&quot;Child.id&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">relationship_config_toplevel</em> - Full introductory and reference
documentation for <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>.</p>
<p class="last"><em class="xref std std-ref">orm_tutorial_relationship</em> - ORM tutorial introduction.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>argument</strong> &#8211; <p>a mapped class, or actual <tt class="xref py py-class docutils literal"><span class="pre">Mapper</span></tt> instance, representing the
target of the relationship.</p>
<p><a href="#id1"><span class="problematic" id="id2">:paramref:`~.relationship.argument`</span></a> may also be passed as a callable function
which is evaluated at mapper initialization time, and may be passed as a
Python-evaluable string when using Declarative.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">declarative_configuring_relationships</em> - further detail
on relationship configuration when using Declarative.</p>
</div>
</li>
<li><strong>secondary</strong> &#8211; <p>for a many-to-many relationship, specifies the intermediary
table, and is typically an instance of <tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt>.
In less common circumstances, the argument may also be specified
as an <tt class="xref py py-class docutils literal"><span class="pre">Alias</span></tt> construct, or even a <tt class="xref py py-class docutils literal"><span class="pre">Join</span></tt> construct.</p>
<p><a href="#id3"><span class="problematic" id="id4">:paramref:`~.relationship.secondary`</span></a> may
also be passed as a callable function which is evaluated at
mapper initialization time.  When using Declarative, it may also
be a string argument noting the name of a <tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt> that is
present in the <tt class="xref py py-class docutils literal"><span class="pre">MetaData</span></tt> collection associated with the
parent-mapped <tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt>.</p>
<p>The <a href="#id5"><span class="problematic" id="id6">:paramref:`~.relationship.secondary`</span></a> keyword argument is typically
applied in the case where the intermediary <tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt> is not
otherwise exprssed in any direct class mapping. If the &#8220;secondary&#8221; table
is also explicitly mapped elsewhere
(e.g. as in <em class="xref std std-ref">association_pattern</em>), one should consider applying
the <a href="#id7"><span class="problematic" id="id8">:paramref:`~.relationship.viewonly`</span></a> flag so that this <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>
is not used for persistence operations which may conflict with those
of the association object pattern.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">relationships_many_to_many</em> - Reference example of &#8220;many to many&#8221;.</p>
<p><em class="xref std std-ref">orm_tutorial_many_to_many</em> - ORM tutorial introduction to
many-to-many relationships.</p>
<p><em class="xref std std-ref">self_referential_many_to_many</em> - Specifics on using many-to-many
in a self-referential case.</p>
<p><em class="xref std std-ref">declarative_many_to_many</em> - Additional options when using
Declarative.</p>
<p><em class="xref std std-ref">association_pattern</em> - an alternative to <a href="#id9"><span class="problematic" id="id10">:paramref:`~.relationship.secondary`</span></a>
when composing association table relationships, allowing additional
attributes to be specified on the association table.</p>
<p class="last"><em class="xref std std-ref">composite_secondary_join</em> - a lesser-used pattern which in some
cases can enable complex <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> SQL conditions
to be used.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.9.2: </span><a href="#id11"><span class="problematic" id="id12">:paramref:`~.relationship.secondary`</span></a> works
more effectively when referring to a <tt class="xref py py-class docutils literal"><span class="pre">Join</span></tt> instance.</p>
</div>
</li>
<li><strong>active_history=False</strong> &#8211; When <tt class="docutils literal"><span class="pre">True</span></tt>, indicates that the &#8220;previous&#8221; value for a
many-to-one reference should be loaded when replaced, if
not already loaded. Normally, history tracking logic for
simple many-to-ones only needs to be aware of the &#8220;new&#8221;
value in order to perform a flush. This flag is available
for applications that make use of
<tt class="xref py py-func docutils literal"><span class="pre">attributes.get_history()</span></tt> which also need to know
the &#8220;previous&#8221; value of the attribute.</li>
<li><strong>backref</strong> &#8211; <p>indicates the string name of a property to be placed on the related
mapper&#8217;s class that will handle this relationship in the other
direction. The other property will be created automatically
when the mappers are configured.  Can also be passed as a
<tt class="xref py py-func docutils literal"><span class="pre">backref()</span></tt> object to control the configuration of the
new relationship.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">relationships_backref</em> - Introductory documentation and
examples.</p>
<p><a href="#id13"><span class="problematic" id="id14">:paramref:`~.relationship.back_populates`</span></a> - alternative form
of backref specification.</p>
<p class="last"><tt class="xref py py-func docutils literal"><span class="pre">backref()</span></tt> - allows control over <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>
configuration when using <a href="#id15"><span class="problematic" id="id16">:paramref:`~.relationship.backref`</span></a>.</p>
</div>
</li>
<li><strong>back_populates</strong> &#8211; <p>Takes a string name and has the same meaning as <a href="#id17"><span class="problematic" id="id18">:paramref:`~.relationship.backref`</span></a>,
except the complementing property is <strong>not</strong> created automatically,
and instead must be configured explicitly on the other mapper.  The
complementing property should also indicate <a href="#id19"><span class="problematic" id="id20">:paramref:`~.relationship.back_populates`</span></a>
to this relationship to ensure proper functioning.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">relationships_backref</em> - Introductory documentation and
examples.</p>
<p class="last"><a href="#id21"><span class="problematic" id="id22">:paramref:`~.relationship.backref`</span></a> - alternative form
of backref specification.</p>
</div>
</li>
<li><strong>cascade</strong> &#8211; <p>a comma-separated list of cascade rules which determines how
Session operations should be &#8220;cascaded&#8221; from parent to child.
This defaults to <tt class="docutils literal"><span class="pre">False</span></tt>, which means the default cascade
should be used.  The default value is <tt class="docutils literal"><span class="pre">&quot;save-update,</span> <span class="pre">merge&quot;</span></tt>.</p>
<p>Available cascades are:</p>
<ul>
<li><tt class="docutils literal"><span class="pre">save-update</span></tt> - cascade the <tt class="xref py py-meth docutils literal"><span class="pre">Session.add()</span></tt>
operation.  This cascade applies both to future and
past calls to <tt class="xref py py-meth docutils literal"><span class="pre">Session.add()</span></tt>,
meaning new items added to a collection or scalar relationship
get placed into the same session as that of the parent, and
also applies to items which have been removed from this
relationship but are still part of unflushed history.</li>
<li><tt class="docutils literal"><span class="pre">merge</span></tt> - cascade the <tt class="xref py py-meth docutils literal"><span class="pre">Session.merge()</span></tt>
operation</li>
<li><tt class="docutils literal"><span class="pre">expunge</span></tt> - cascade the <tt class="xref py py-meth docutils literal"><span class="pre">Session.expunge()</span></tt>
operation</li>
<li><tt class="docutils literal"><span class="pre">delete</span></tt> - cascade the <tt class="xref py py-meth docutils literal"><span class="pre">Session.delete()</span></tt>
operation</li>
<li><tt class="docutils literal"><span class="pre">delete-orphan</span></tt> - if an item of the child&#8217;s type is
detached from its parent, mark it for deletion.<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.7: </span>This option does not prevent
a new instance of the child object from being persisted
without a parent to start with; to constrain against
that case, ensure the child&#8217;s foreign key column(s)
is configured as NOT NULL</p>
</div>
</li>
<li><tt class="docutils literal"><span class="pre">refresh-expire</span></tt> - cascade the <tt class="xref py py-meth docutils literal"><span class="pre">Session.expire()</span></tt>
and <tt class="xref py py-meth docutils literal"><span class="pre">Session.refresh()</span></tt> operations</li>
<li><tt class="docutils literal"><span class="pre">all</span></tt> - shorthand for &#8220;save-update,merge, refresh-expire,
expunge, delete&#8221;</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">unitofwork_cascades</em> - Introductory documentation and
examples.</p>
<p class="last"><em class="xref std std-ref">tutorial_delete_cascade</em> - Tutorial example describing
a delete cascade.</p>
</div>
</li>
<li><strong>cascade_backrefs=True</strong> &#8211; <p>a boolean value indicating if the <tt class="docutils literal"><span class="pre">save-update</span></tt> cascade should
operate along an assignment event intercepted by a backref.
When set to <tt class="docutils literal"><span class="pre">False</span></tt>,
the attribute managed by this relationship will not cascade
an incoming transient object into the session of a
persistent parent, if the event is received via backref.</p>
<p>That is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mapper</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">a_table</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&#39;bs&#39;</span><span class="p">:</span><span class="n">relationship</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">backref</span><span class="o">=</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="n">cascade_backrefs</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<p>If an <tt class="docutils literal"><span class="pre">A()</span></tt> is present in the session, assigning it to
the &#8220;a&#8221; attribute on a transient <tt class="docutils literal"><span class="pre">B()</span></tt> will not place
the <tt class="docutils literal"><span class="pre">B()</span></tt> into the session.   To set the flag in the other
direction, i.e. so that <tt class="docutils literal"><span class="pre">A().bs.append(B())</span></tt> won&#8217;t add
a transient <tt class="docutils literal"><span class="pre">A()</span></tt> into the session for a persistent <tt class="docutils literal"><span class="pre">B()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mapper</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">a_table</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&#39;bs&#39;</span><span class="p">:</span><span class="n">relationship</span><span class="p">(</span><span class="n">B</span><span class="p">,</span>
            <span class="n">backref</span><span class="o">=</span><span class="n">backref</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="n">cascade_backrefs</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">backref_cascade</em> - Introductory documentation and
examples.</p>
</div>
</li>
<li><strong>collection_class</strong> &#8211; <p>a class or callable that returns a new list-holding object. will
be used in place of a plain list for storing elements.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">custom_collections</em> - Introductory documentation and
examples.</p>
</div>
</li>
<li><strong>comparator_factory</strong> &#8211; <p>a class which extends <tt class="xref py py-class docutils literal"><span class="pre">RelationshipProperty.Comparator</span></tt> which
provides custom SQL clause generation for comparison operations.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><tt class="xref py py-class docutils literal"><span class="pre">PropComparator</span></tt> - some detail on redefining comparators
at this level.</p>
<p class="last"><em class="xref std std-ref">custom_comparators</em> - Brief intro to this feature.</p>
</div>
</li>
<li><strong>distinct_target_key=None</strong> &#8211; <p>Indicate if a &#8220;subquery&#8221; eager load should apply the DISTINCT
keyword to the innermost SELECT statement.  When left as <tt class="docutils literal"><span class="pre">None</span></tt>,
the DISTINCT keyword will be applied in those cases when the target
columns do not comprise the full primary key of the target table.
When set to <tt class="docutils literal"><span class="pre">True</span></tt>, the DISTINCT keyword is applied to the innermost
SELECT unconditionally.</p>
<p>It may be desirable to set this flag to False when the DISTINCT is
reducing performance of the innermost subquery beyond that of what
duplicate innermost rows may be causing.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.8.3: </span>- <a href="#id23"><span class="problematic" id="id24">:paramref:`~.relationship.distinct_target_key`</span></a>
allows the
subquery eager loader to apply a DISTINCT modifier to the
innermost SELECT.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.9.0: </span>- <a href="#id25"><span class="problematic" id="id26">:paramref:`~.relationship.distinct_target_key`</span></a>
now defaults to <tt class="docutils literal"><span class="pre">None</span></tt>, so that the feature enables itself automatically for
those cases where the innermost query targets a non-unique
key.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">loading_toplevel</em> - includes an introduction to subquery
eager loading.</p>
</div>
</li>
<li><strong>doc</strong> &#8211; docstring which will be applied to the resulting descriptor.</li>
<li><strong>extension</strong> &#8211; <p>an <tt class="xref py py-class docutils literal"><span class="pre">AttributeExtension</span></tt> instance, or list of extensions,
which will be prepended to the list of attribute listeners for
the resulting descriptor placed on the class.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 0.7: </span>Please see <tt class="xref py py-class docutils literal"><span class="pre">AttributeEvents</span></tt>.</p>
</div>
</li>
<li><strong>foreign_keys</strong> &#8211; <p>a list of columns which are to be used as &#8220;foreign key&#8221;
columns, or columns which refer to the value in a remote
column, within the context of this <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>
object&#8217;s <a href="#id27"><span class="problematic" id="id28">:paramref:`~.relationship.primaryjoin`</span></a> condition.
That is, if the <a href="#id29"><span class="problematic" id="id30">:paramref:`~.relationship.primaryjoin`</span></a>
condition of this <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> is <tt class="docutils literal"><span class="pre">a.id</span> <span class="pre">==</span>
<span class="pre">b.a_id</span></tt>, and the values in <tt class="docutils literal"><span class="pre">b.a_id</span></tt> are required to be
present in <tt class="docutils literal"><span class="pre">a.id</span></tt>, then the &#8220;foreign key&#8221; column of this
<a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> is <tt class="docutils literal"><span class="pre">b.a_id</span></tt>.</p>
<p>In normal cases, the <a href="#id31"><span class="problematic" id="id32">:paramref:`~.relationship.foreign_keys`</span></a>
parameter is <strong>not required.</strong> <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> will
automatically determine which columns in the
<a href="#id33"><span class="problematic" id="id34">:paramref:`~.relationship.primaryjoin`</span></a> conditition are to be
considered &#8220;foreign key&#8221; columns based on those
<tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt> objects that specify <tt class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></tt>,
or are otherwise listed as referencing columns in a
<tt class="xref py py-class docutils literal"><span class="pre">ForeignKeyConstraint</span></tt> construct.
<a href="#id35"><span class="problematic" id="id36">:paramref:`~.relationship.foreign_keys`</span></a> is only needed when:</p>
<blockquote>
<div><ol class="arabic">
<li>There is more than one way to construct a join from the local
table to the remote table, as there are multiple foreign key
references present.  Setting <tt class="docutils literal"><span class="pre">foreign_keys</span></tt> will limit the
<a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> to consider just those columns specified
here as &#8220;foreign&#8221;.<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.8: </span>A multiple-foreign key join ambiguity can be resolved by
setting the <a href="#id37"><span class="problematic" id="id38">:paramref:`~.relationship.foreign_keys`</span></a> parameter alone, without the
need to explicitly set <a href="#id39"><span class="problematic" id="id40">:paramref:`~.relationship.primaryjoin`</span></a> as well.</p>
</div>
</li>
<li>The <tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt> being mapped does not actually have
<tt class="xref py py-class docutils literal"><span class="pre">ForeignKey</span></tt> or <tt class="xref py py-class docutils literal"><span class="pre">ForeignKeyConstraint</span></tt>
constructs present, often because the table
was reflected from a database that does not support foreign key
reflection (MySQL MyISAM).</li>
<li>The <a href="#id41"><span class="problematic" id="id42">:paramref:`~.relationship.primaryjoin`</span></a> argument is used to construct a non-standard
join condition, which makes use of columns or expressions that do
not normally refer to their &#8220;parent&#8221; column, such as a join condition
expressed by a complex comparison using a SQL function.</li>
</ol>
</div></blockquote>
<p>The <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> construct will raise informative
error messages that suggest the use of the
<a href="#id43"><span class="problematic" id="id44">:paramref:`~.relationship.foreign_keys`</span></a> parameter when
presented with an ambiguous condition.   In typical cases,
if <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> doesn&#8217;t raise any exceptions, the
<a href="#id45"><span class="problematic" id="id46">:paramref:`~.relationship.foreign_keys`</span></a> parameter is usually
not needed.</p>
<p><a href="#id47"><span class="problematic" id="id48">:paramref:`~.relationship.foreign_keys`</span></a> may also be passed as a callable function
which is evaluated at mapper initialization time, and may be passed as a
Python-evaluable string when using Declarative.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">relationship_foreign_keys</em></p>
<p><em class="xref std std-ref">relationship_custom_foreign</em></p>
<p class="last"><tt class="xref py py-func docutils literal"><span class="pre">foreign()</span></tt> - allows direct annotation of the &#8220;foreign&#8221; columns
within a <a href="#id49"><span class="problematic" id="id50">:paramref:`~.relationship.primaryjoin`</span></a> condition.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.8: </span>The <tt class="xref py py-func docutils literal"><span class="pre">foreign()</span></tt> annotation can also be applied
directly to the <a href="#id51"><span class="problematic" id="id52">:paramref:`~.relationship.primaryjoin`</span></a> expression, which is an alternate,
more specific system of describing which columns in a particular
<a href="#id53"><span class="problematic" id="id54">:paramref:`~.relationship.primaryjoin`</span></a> should be considered &#8220;foreign&#8221;.</p>
</div>
</li>
<li><strong>info</strong> &#8211; <p>Optional data dictionary which will be populated into the
<tt class="xref py py-attr docutils literal"><span class="pre">MapperProperty.info</span></tt> attribute of this object.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.8.</span></p>
</div>
</li>
<li><strong>innerjoin=False</strong> &#8211; <p>when <tt class="docutils literal"><span class="pre">True</span></tt>, joined eager loads will use an inner join to join
against related tables instead of an outer join.  The purpose
of this option is generally one of performance, as inner joins
generally perform better than outer joins.</p>
<p>This flag can be set to <tt class="docutils literal"><span class="pre">True</span></tt> when the relationship references an
object via many-to-one using local foreign keys that are not nullable,
or when the reference is one-to-one or a collection that is guaranteed
to have one or at least one entry.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">what_kind_of_loading</em> - Discussion of some details of
various loader options.</p>
</div>
</li>
<li><strong>join_depth</strong> &#8211; <p>when non-<tt class="docutils literal"><span class="pre">None</span></tt>, an integer value indicating how many levels
deep &#8220;eager&#8221; loaders should join on a self-referring or cyclical
relationship.  The number counts how many times the same Mapper
shall be present in the loading condition along a particular join
branch.  When left at its default of <tt class="docutils literal"><span class="pre">None</span></tt>, eager loaders
will stop chaining when they encounter a the same target mapper
which is already higher up in the chain.  This option applies
both to joined- and subquery- eager loaders.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">self_referential_eager_loading</em> - Introductory documentation
and examples.</p>
</div>
</li>
<li><strong>lazy=&#8217;select&#8217;</strong> &#8211; <p>specifies
how the related items should be loaded.  Default value is
<tt class="docutils literal"><span class="pre">select</span></tt>.  Values include:</p>
<ul>
<li><tt class="docutils literal"><span class="pre">select</span></tt> - items should be loaded lazily when the property is first
accessed, using a separate SELECT statement, or identity map
fetch for simple many-to-one references.</li>
<li><tt class="docutils literal"><span class="pre">immediate</span></tt> - items should be loaded as the parents are loaded,
using a separate SELECT statement, or identity map fetch for
simple many-to-one references.</li>
<li><tt class="docutils literal"><span class="pre">joined</span></tt> - items should be loaded &#8220;eagerly&#8221; in the same query as
that of the parent, using a JOIN or LEFT OUTER JOIN.  Whether
the join is &#8220;outer&#8221; or not is determined by the <tt class="docutils literal"><span class="pre">innerjoin</span></tt>
parameter.</li>
<li><tt class="docutils literal"><span class="pre">subquery</span></tt> - items should be loaded &#8220;eagerly&#8221; as the parents are
loaded, using one additional SQL statement, which issues a JOIN to a
subquery of the original statement, for each collection requested.</li>
<li><tt class="docutils literal"><span class="pre">noload</span></tt> - no loading should occur at any time.  This is to
support &#8220;write-only&#8221; attributes, or attributes which are
populated in some manner specific to the application.</li>
<li><tt class="docutils literal"><span class="pre">dynamic</span></tt> - the attribute will return a pre-configured
<tt class="xref py py-class docutils literal"><span class="pre">Query</span></tt> object for all read
operations, onto which further filtering operations can be
applied before iterating the results.  See
the section <em class="xref std std-ref">dynamic_relationship</em> for more details.</li>
<li>True - a synonym for &#8216;select&#8217;</li>
<li>False - a synonym for &#8216;joined&#8217;</li>
<li>None - a synonym for &#8216;noload&#8217;</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><tt class="xref doc docutils literal"><span class="pre">/orm/loading</span></tt> - Full documentation on relationship loader
configuration.</p>
<p class="last"><em class="xref std std-ref">dynamic_relationship</em> - detail on the <tt class="docutils literal"><span class="pre">dynamic</span></tt> option.</p>
</div>
</li>
<li><strong>load_on_pending=False</strong> &#8211; <p>Indicates loading behavior for transient or pending parent objects.</p>
<p>When set to <tt class="docutils literal"><span class="pre">True</span></tt>, causes the lazy-loader to
issue a query for a parent object that is not persistent, meaning it has
never been flushed.  This may take effect for a pending object when
autoflush is disabled, or for a transient object that has been
&#8220;attached&#8221; to a <a class="reference internal" href="blitz_data_models.html#blitz.data.models.Session" title="blitz.data.models.Session"><tt class="xref py py-class docutils literal"><span class="pre">Session</span></tt></a> but is not part of its pending
collection.</p>
<p>The <a href="#id55"><span class="problematic" id="id56">:paramref:`~.relationship.load_on_pending`</span></a> flag does not improve behavior
when the ORM is used normally - object references should be constructed
at the object level, not at the foreign key level, so that they
are present in an ordinary way before a flush proceeds.  This flag
is not not intended for general use.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><tt class="xref py py-meth docutils literal"><span class="pre">Session.enable_relationship_loading()</span></tt> - this method establishes
&#8220;load on pending&#8221; behavior for the whole object, and also allows
loading on objects that remain transient or detached.</p>
</div>
</li>
<li><strong>order_by</strong> &#8211; <p>indicates the ordering that should be applied when loading these
items.  <a href="#id57"><span class="problematic" id="id58">:paramref:`~.relationship.order_by`</span></a> is expected to refer to one
of the <tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt>
objects to which the target class is mapped, or
the attribute itself bound to the target class which refers
to the column.</p>
<p><a href="#id59"><span class="problematic" id="id60">:paramref:`~.relationship.order_by`</span></a> may also be passed as a callable function
which is evaluated at mapper initialization time, and may be passed as a
Python-evaluable string when using Declarative.</p>
</li>
<li><strong>passive_deletes=False</strong> &#8211; <p>Indicates loading behavior during delete operations.</p>
<p>A value of True indicates that unloaded child items should not
be loaded during a delete operation on the parent.  Normally,
when a parent item is deleted, all child items are loaded so
that they can either be marked as deleted, or have their
foreign key to the parent set to NULL.  Marking this flag as
True usually implies an ON DELETE &lt;CASCADE|SET NULL&gt; rule is in
place which will handle updating/deleting child rows on the
database side.</p>
<p>Additionally, setting the flag to the string value &#8216;all&#8217; will
disable the &#8220;nulling out&#8221; of the child foreign keys, when there
is no delete or delete-orphan cascade enabled.  This is
typically used when a triggering or error raise scenario is in
place on the database side.  Note that the foreign key
attributes on in-session child objects will not be changed
after a flush occurs so this is a very special use-case
setting.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">passive_deletes</em> - Introductory documentation
and examples.</p>
</div>
</li>
<li><strong>passive_updates=True</strong> &#8211; <p>Indicates loading and INSERT/UPDATE/DELETE behavior when the
source of a foreign key value changes (i.e. an &#8220;on update&#8221;
cascade), which are typically the primary key columns of the
source row.</p>
<p>When True, it is assumed that ON UPDATE CASCADE is configured on
the foreign key in the database, and that the database will
handle propagation of an UPDATE from a source column to
dependent rows.  Note that with databases which enforce
referential integrity (i.e. PostgreSQL, MySQL with InnoDB tables),
ON UPDATE CASCADE is required for this operation.  The
relationship() will update the value of the attribute on related
items which are locally present in the session during a flush.</p>
<p>When False, it is assumed that the database does not enforce
referential integrity and will not be issuing its own CASCADE
operation for an update.  The relationship() will issue the
appropriate UPDATE statements to the database in response to the
change of a referenced key, and items locally present in the
session during a flush will also be refreshed.</p>
<p>This flag should probably be set to False if primary key changes
are expected and the database in use doesn&#8217;t support CASCADE
(i.e. SQLite, MySQL MyISAM tables).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">passive_updates</em> - Introductory documentation and
examples.</p>
<p class="last"><a href="#id61"><span class="problematic" id="id62">:paramref:`.mapper.passive_updates`</span></a> - a similar flag which
takes effect for joined-table inheritance mappings.</p>
</div>
</li>
<li><strong>post_update</strong> &#8211; <p>this indicates that the relationship should be handled by a
second UPDATE statement after an INSERT or before a
DELETE. Currently, it also will issue an UPDATE after the
instance was UPDATEd as well, although this technically should
be improved. This flag is used to handle saving bi-directional
dependencies between two individual rows (i.e. each row
references the other), where it would otherwise be impossible to
INSERT or DELETE both rows fully since one row exists before the
other. Use this flag when a particular mapping arrangement will
incur two rows that are dependent on each other, such as a table
that has a one-to-many relationship to a set of child rows, and
also has a column that references a single child row within that
list (i.e. both tables contain a foreign key to each other). If
a flush operation returns an error that a &#8220;cyclical
dependency&#8221; was detected, this is a cue that you might want to
use <a href="#id63"><span class="problematic" id="id64">:paramref:`~.relationship.post_update`</span></a> to &#8220;break&#8221; the cycle.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">post_update</em> - Introductory documentation and examples.</p>
</div>
</li>
<li><strong>primaryjoin</strong> &#8211; <p>a SQL expression that will be used as the primary
join of this child object against the parent object, or in a
many-to-many relationship the join of the primary object to the
association table. By default, this value is computed based on the
foreign key relationships of the parent and child tables (or association
table).</p>
<p><a href="#id65"><span class="problematic" id="id66">:paramref:`~.relationship.primaryjoin`</span></a> may also be passed as a callable function
which is evaluated at mapper initialization time, and may be passed as a
Python-evaluable string when using Declarative.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">relationship_primaryjoin</em></p>
</div>
</li>
<li><strong>remote_side</strong> &#8211; <p>used for self-referential relationships, indicates the column or
list of columns that form the &#8220;remote side&#8221; of the relationship.</p>
<p><a href="#id67"><span class="problematic" id="id68">:paramref:`.relationship.remote_side`</span></a> may also be passed as a callable function
which is evaluated at mapper initialization time, and may be passed as a
Python-evaluable string when using Declarative.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.8: </span>The <tt class="xref py py-func docutils literal"><span class="pre">remote()</span></tt> annotation can also be applied
directly to the <tt class="docutils literal"><span class="pre">primaryjoin</span></tt> expression, which is an alternate,
more specific system of describing which columns in a particular
<tt class="docutils literal"><span class="pre">primaryjoin</span></tt> should be considered &#8220;remote&#8221;.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><em class="xref std std-ref">self_referential</em> - in-depth explaination of how
<a href="#id69"><span class="problematic" id="id70">:paramref:`~.relationship.remote_side`</span></a>
is used to configure self-referential relationships.</p>
<p class="last"><tt class="xref py py-func docutils literal"><span class="pre">remote()</span></tt> - an annotation function that accomplishes the same
purpose as <a href="#id71"><span class="problematic" id="id72">:paramref:`~.relationship.remote_side`</span></a>, typically
when a custom <a href="#id73"><span class="problematic" id="id74">:paramref:`~.relationship.primaryjoin`</span></a> condition
is used.</p>
</div>
</li>
<li><strong>query_class</strong> &#8211; <p>a <tt class="xref py py-class docutils literal"><span class="pre">Query</span></tt> subclass that will be used as the base of the
&#8220;appender query&#8221; returned by a &#8220;dynamic&#8221; relationship, that
is, a relationship that specifies <tt class="docutils literal"><span class="pre">lazy=&quot;dynamic&quot;</span></tt> or was
otherwise constructed using the <tt class="xref py py-func docutils literal"><span class="pre">orm.dynamic_loader()</span></tt>
function.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">dynamic_relationship</em> - Introduction to &#8220;dynamic&#8221; relationship
loaders.</p>
</div>
</li>
<li><strong>secondaryjoin</strong> &#8211; <p>a SQL expression that will be used as the join of
an association table to the child object. By default, this value is
computed based on the foreign key relationships of the association and
child tables.</p>
<p><a href="#id75"><span class="problematic" id="id76">:paramref:`~.relationship.secondaryjoin`</span></a> may also be passed as a callable function
which is evaluated at mapper initialization time, and may be passed as a
Python-evaluable string when using Declarative.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">relationship_primaryjoin</em></p>
</div>
</li>
<li><strong>single_parent</strong> &#8211; <p>when True, installs a validator which will prevent objects
from being associated with more than one parent at a time.
This is used for many-to-one or many-to-many relationships that
should be treated either as one-to-one or one-to-many.  Its usage
is optional, except for <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> constructs which
are many-to-one or many-to-many and also
specify the <tt class="docutils literal"><span class="pre">delete-orphan</span></tt> cascade option.  The <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>
construct itself will raise an error instructing when this option
is required.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">unitofwork_cascades</em> - includes detail on when the
<a href="#id77"><span class="problematic" id="id78">:paramref:`~.relationship.single_parent`</span></a> flag may be appropriate.</p>
</div>
</li>
<li><strong>uselist</strong> &#8211; <p>a boolean that indicates if this property should be loaded as a
list or a scalar. In most cases, this value is determined
automatically by <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> at mapper configuration
time, based on the type and direction
of the relationship - one to many forms a list, many to one
forms a scalar, many to many is a list. If a scalar is desired
where normally a list would be present, such as a bi-directional
one-to-one relationship, set <a href="#id79"><span class="problematic" id="id80">:paramref:`~.relationship.uselist`</span></a> to False.</p>
<p>The <a href="#id81"><span class="problematic" id="id82">:paramref:`~.relationship.uselist`</span></a> flag is also available on an
existing <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> construct as a read-only attribute, which
can be used to determine if this <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a> deals with
collections or scalar attributes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">User</span><span class="o">.</span><span class="n">addresses</span><span class="o">.</span><span class="n">property</span><span class="o">.</span><span class="n">uselist</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">relationships_one_to_one</em> - Introduction to the &#8220;one to one&#8221;
relationship pattern, which is typically when the
<a href="#id83"><span class="problematic" id="id84">:paramref:`~.relationship.uselist`</span></a> flag is needed.</p>
</div>
</li>
<li><strong>viewonly=False</strong> &#8211; when set to True, the relationship is used only for loading objects,
and not for any persistence operation.  A <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>
which specifies <a href="#id85"><span class="problematic" id="id86">:paramref:`~.relationship.viewonly`</span></a> can work
with a wider range of SQL operations within the <a href="#id87"><span class="problematic" id="id88">:paramref:`~.relationship.primaryjoin`</span></a>
condition, including operations that feature the use of
a variety of comparison operators as well as SQL functions such
as <tt class="xref py py-func docutils literal"><span class="pre">cast()</span></tt>.  The <a href="#id89"><span class="problematic" id="id90">:paramref:`~.relationship.viewonly`</span></a>
flag is also of general use when defining any kind of <a class="reference internal" href="#blitz.web.api.relationship" title="blitz.web.api.relationship"><tt class="xref py py-func docutils literal"><span class="pre">relationship()</span></tt></a>
that doesn&#8217;t represent the full set of related objects, to prevent
modifications of the collection from resulting in persistence operations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="blitz_web_http.html" title="blitz.web.http"
             >next</a> |</li>
        <li class="right" >
          <a href="blitz_web.html" title="blitz.web"
             >previous</a> |</li>
        <li><a href="index.html">Blitz Logger Internal Documentation 0.1 documentation</a> &raquo;</li>
          <li><a href="blitz_web.html" >blitz.web</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, William Hart.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
  </body>
</html>